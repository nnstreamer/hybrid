# Cursor rules for this repository

## Primary sources of truth
- /ARCHITECTURE.md
- OpenPCC whitepaper (github.com/openpcc/openpcc, whitepaper/openpcc.pdf)

### Conflict handling (mandatory)
- If the user prompt conflicts with ARCHITECTURE.md, STOP and explain the conflict.
- If the user prompt conflicts with the OpenPCC whitepaper, STOP and explain the conflict.
- If ARCHITECTURE.md conflicts with the OpenPCC whitepaper, STOP and explain the conflict.
- In all conflict cases, do NOT pick a winner or ignore a source. Ask the user to confirm how to proceed.
- If the whitepaper is not accessible, ask the user to provide it before proceeding.

## Architectural constraints (from ARCHITECTURE.md)
- Treat ARCHITECTURE.md as the authoritative source for current components, roles, and flow.
- Do not hardcode prototype/PoC-stage choices in rules (e.g., EIF timing, TPM
  simulator usage, default CID, monitor enablement). Follow the current doc.
- If ARCHITECTURE.md describes multiple options or stages, ask which applies
  before making assumptions.
- Preserve any stated separation of build/packaging vs deployment in the
  current ARCHITECTURE.md; do not merge steps unless explicitly allowed.

## Default behavior for changes
- Keep changes minimal and scoped.
- If a change touches architecture or security properties, update docs and explain rationale.
- Preserve the separation of build vs deploy in scripts and workflows.
